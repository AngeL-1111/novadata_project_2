# üöÄ PROJECT 2 (kafka streaming)

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Docker**
- **Kafka**
- **PostgreSQL**
- **ClickHouse**
- **DBeaver**

______________________________________________________________________________________
## üìå –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã
### 1Ô∏è‚É£ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ `docker-compose` —Ñ–∞–π–ª–∞
–ù–∞—Å—Ç—Ä–æ–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –ø–æ–¥–Ω–∏–º–µ–º —Å–µ—Ä–≤–∏—Å—ã
- `docker compose up -d`

### 2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –ø–∞—Ä—ã `producer`-`consumer` –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã user_logins –≤ PostgreSQL
–ù–∞—Ö–æ–¥—è—Å—å –≤ –¥–∏—Ä—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
- `python producer_to_pg.py` –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥—é—Å–µ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –≤ PG;
- `python consumer_to_pg.py` –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Å—é–º–µ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –≤ PG; (–≤ —Å–æ—Å–µ–¥–Ω–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
- –≤ DBeaver –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ PG –∏ —Å–º–æ—Ç—Ä–∏–º –Ω–∞–ø–æ–ª–µ–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `user_logins`:
    `SELECT * FROM public.user_logins;` –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—è `sent_to_kafka` –∏ –µ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ `False` –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ –¥–µ—Ñ–æ–ª—Ç—É;
- –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω –∫–æ–Ω—Å—é–º–µ—Ä, –æ—Å—Ç–∞–Ω–∞–≤–ª—è–µ–º –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π `control + C`;

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–∞—Ä—ã `producer`-`consumer` –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã u–∑ PG –≤ ClickHouse
- `python producer_from_pg_to_ch.py` –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥—é—Å–µ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –∏–∑ PG –≤ –ö–ª–∏–∫;
- `python consumer_from_pg_to_ch.py` –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Å—é–º–µ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –∏–∑ PG –≤ –ö–ª–∏–∫; (–≤ —Å–æ—Å–µ–¥–Ω–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
- –≤ DBeaver –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ CH –∏ —Å–º–æ—Ç—Ä–∏–º –Ω–∞–ø–æ–ª–µ–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `user_logins`:
    `SELECT * FROM default.user_logins;` –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫ —Å —Ç–∞–±–ª–∏—Ü–µ–π –≤ PG;
- –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω –∫–æ–Ω—Å—é–º–µ—Ä, –æ—Å—Ç–∞–Ω–∞–≤–ª—è–µ–º –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π `control + C`;

______________________________________________________________________________________